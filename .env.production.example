# =============================================================================
# PRODUCTION ENVIRONMENT VARIABLES
# =============================================================================
# IMPORTANT:
# 1. Copy this file to .env.production
# 2. Fill in ALL values with production secrets
# 3. NEVER commit .env.production to git
# 4. Store secrets in secure vault (e.g., AWS Secrets Manager, 1Password)
# =============================================================================

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=production
NEXT_TELEMETRY_DISABLED=1

# Full URL of your production site (NO trailing slash)
NEXT_PUBLIC_APP_URL=https://nexus.example.com
NEXTAUTH_URL=https://nexus.example.com

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# Docker Compose internal connection (via service name)
# Format: postgresql://user:password@host:port/database?schema=public
DATABASE_URL=postgresql://nexus_user:CHANGE_THIS_PASSWORD@postgres:5432/nexus_reussite_prod?schema=public

# Docker Compose Postgres Config
POSTGRES_USER=nexus_user
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_DB=nexus_reussite_prod

# Optional: Performance tuning
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_MAX_CONNECTIONS=100

# =============================================================================
# NEXTAUTH (Authentication) - REQUIRED
# =============================================================================
# Generate secret with: openssl rand -base64 32
NEXTAUTH_SECRET=CHANGE_THIS_TO_RANDOM_32_CHAR_STRING

# =============================================================================
# SMTP / EMAIL (REQUIRED for user notifications)
# =============================================================================
SMTP_HOST=smtp.example.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=contact@nexus.example.com
SMTP_PASSWORD=CHANGE_THIS_SMTP_PASSWORD
SMTP_FROM=Nexus Réussite <contact@nexus.example.com>
EMAIL_FROM=Nexus Réussite <contact@nexus.example.com>

# =============================================================================
# AI SERVICES (OpenAI) - OPTIONAL
# =============================================================================
# Leave empty to disable AI features
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDINGS_MODEL=text-embedding-3-large
VECTOR_DIM=3072
EMBEDDING_PROVIDER=openai

# Alternative: Hugging Face
# HUGGINGFACE_HUB_TOKEN=
# HF_EMBEDDING_MODEL=intfloat/e5-large-v2

# =============================================================================
# PAYMENTS - KONNECT (Tunisia) - OPTIONAL
# =============================================================================
# Leave empty to disable payment features
KONNECT_API_KEY=
KONNECT_WALLET_ID=
KONNECT_BASE_URL=https://api.konnect.network
KONNECT_WEBHOOK_SECRET=
NEXT_PUBLIC_KONNECT_PUBLIC_KEY=

# =============================================================================
# PAYMENTS - WISE (International) - OPTIONAL
# =============================================================================
# WISE_API_KEY=
# WISE_PROFILE_ID=

# =============================================================================
# VIDEO CONFERENCING (Jitsi)
# =============================================================================
# Use public Jitsi or self-hosted instance
NEXT_PUBLIC_JITSI_SERVER_URL=https://meet.jit.si
# For self-hosted: https://visio.nexus.example.com

# =============================================================================
# RATE LIMITING
# =============================================================================
# Window in milliseconds (default: 1 minute)
RATE_LIMIT_WINDOW_MS=60000
# Max requests per window per IP
RATE_LIMIT_MAX=60

# =============================================================================
# MICROSERVICES - OPTIONAL (Advanced)
# =============================================================================
# LLM_SERVICE_URL=https://llm.nexus.internal:8003
# PDF_GENERATOR_SERVICE_URL=https://pdf.nexus.internal:8002
# RAG_SERVICE_URL=https://rag.nexus.internal:8001

# =============================================================================
# MONITORING & LOGGING - OPTIONAL
# =============================================================================
# SENTRY_DSN=
# SENTRY_AUTH_TOKEN=
# LOG_LEVEL=info

<!-- markdownlint-disable MD041 MD036 MD029 MD012 MD040 -->
Voici le **bilan d’entrée en Terminale – Mathématiques (volet “connaissances de Première”)** + le **volet “profil pédagogique”** avec barèmes, pondérations et corrigé inclus. Les contenus ciblent exclusivement les notions du programme de **Première** et celles **indispensables pour réussir la Terminale** (repérage, dérivation, exponentielle, suites, probabilités, etc.). Les choix de thèmes et de pondérations s’alignent sur l’organisation officielle des programmes (Algèbre, Analyse, Géométrie, Probabilités, Algorithmique) et sur les intentions majeures de la spécialité (consolider la Première, préparer la Terminale et le supérieur).  &#x20;

---

# Volet 1 — QCM Diagnostic (40 questions, pondérés)

**Domaines & poids global**

* A. Algèbre & Fonctions (Première): 10 questions (poids total 20) — polynôme 2nd degré, factorisation, signes, équations.&#x20;
* B. Analyse (Première): 12 questions (poids total 30) — dérivation, variations, tangente, exponentielle.&#x20;
* C. Suites (Première): 6 questions (poids total 12) — arithmétique/géométrique, somme, sens de variation.&#x20;
* D. Géométrie (plan) & vecteurs de base: 6 questions (poids total 12) — repérage, vecteur, produit scalaire plan, équations de droites (prépare la géométrie de l’espace en Tle).&#x20;
* E. Probabilités & Statistiques: 4 questions (poids total 8) — fréquences, probas composées simples. *(Niveau Première.)*
* F. Algorithmique & Logique: 2 questions (poids total 4) — lecture/écriture d’algorithmes très simples *(tableur/programmation)*.

> Barème par question : **poids 1, 2 ou 3** (3 = “indispensable Terminale”). On vise un total **/86**.
> Indication “⚑ Indispensable Tle” ajoutée pour les items critiques l’an prochain (convergence intuitive, dérivées, exp, lecture graphique stricte des variations, prérequis géométrie de l’espace).

---

## A — Algèbre & Fonctions (10 q, 20 pts)

1. (2 pts) Résoudre $x^2-5x+6=0$.
   A. {1,6} B. {2,3} C. {−2,−3} D. ∅
   **Réponse : B**

2. (2 pts) Signe de $ (x-1)(x+4)$.
   A. + sur $x<−4$ et $x>1$ B. + sur $−4<x<1$ C. − sur $x<−4$ et $x>1$ D. toujours +
   **Réponse : A**

3. (2 pts) Forme canonique de $x^2+4x+1$.
   A. $(x+2)^2-3$ B. $(x-2)^2+3$ C. $(x+2)^2+3$ D. $(x-2)^2-3$
   **Réponse : A**&#x20;

4. (1 pt) Somme des racines de $x^2-7x+10$.
   A. 7 B. −7 C. 10 D. −10
   **Réponse : A**&#x20;

5. (2 pts) Factoriser $x^2-9x$.
   A. $x(x-9)$ B. $(x-3)^2$ C. $(x-9)^2$ D. $(x-3)(x-6)$
   **Réponse : A**

6. (2 pts) Résoudre $ (x-1)^2 \le 9$.
   A. $[-2,4]$ B. $[-4,2]$ C. $[−8,10]$ D. $[1,10]$
   **Réponse : A**

7. (2 pts) Zéro de $f(x)=−x^2+4x$.
   A. 0 et 4 B. 2 C. 4 D. 0
   **Réponse : A**

8. (3 pts, ⚑) Sur $\mathbb R$, le minimum de $x^2+4x+5$ vaut…
   A. 1 en $x=−2$ B. 5 en $x=0$ C. 0 en $x=0$ D. 1 en $x=2$
   **Réponse : A** (forme canonique $(x+2)^2+1$)

9. (2 pts) Si $x,y$ sont racines de $t^2-5t+6$, alors $x+y$ et $xy$ valent…
   A. 5 et 6 B. 6 et 5 C. −5 et 6 D. 5 et −6
   **Réponse : A**&#x20;

10. (2 pts) Domaine de définition de $g(x)=\dfrac{2x+1}{x-3}$.
    A. $\mathbb R$ B. $\mathbb R\setminus\{3\}$ C. $\mathbb R\setminus\{−\tfrac12\}$ D. $(0,+\infty)$
    **Réponse : B**

---

## B — Analyse : dérivation, variations, exponentielle (12 q, 30 pts)

11. (3 pts, ⚑) Nombre dérivé = pente de la tangente au graphe de $f$ en $a$.
    A. Vrai B. Faux
    **Réponse : A**&#x20;

12. (2 pts) Si $f'(x)>0$ sur un intervalle, alors $f$ y est…
    A. décroissante B. constante C. croissante D. indéterminée
    **Réponse : C**

13. (2 pts) Dérivée de $f(x)=x^2-3x+2$.
    A. $2x-3$ B. $x-3$ C. $2x$ D. $2x+3$
    **Réponse : A**

14. (2 pts) Dérivée de $h(x)=\sqrt{x}$ en $x>0$.
    A. $\frac{1}{2\sqrt{x}}$ B. $\frac{1}{\sqrt{x}}$ C. $2\sqrt{x}$ D. $0$
    **Réponse : A**

15. (3 pts, ⚑) Si $f(x)=\mathrm e^{x}$, alors $f'(x)=\dots$
    A. $x\,\mathrm e^x$ B. $\mathrm e^x$ C. $\ln x$ D. $1/x$
    **Réponse : B** (pré-requis essentiel Tle : exponentielle)&#x20;

16. (2 pts) Résoudre $ \mathrm e^x = 1$.
    A. $x=0$ B. $x=1$ C. $x=\ln 1$ D. A et C
    **Réponse : D** (équivalents)

17. (2 pts) Si $f'(2)=0$ et $f''(2)>0$ (admettons la notion), alors en $x=2$ :
    A. maximum local B. minimum local C. point d’inflexion D. rien de concluant
    **Réponse : B** *(intuition utile pour lecture de variations)*

18. (2 pts) Dérivée de $k(x)=\dfrac{1}{x}$ (pour $x\neq 0$).
    A. $1$ B. $-1/x^2$ C. $1/x^2$ D. $-1/x$
    **Réponse : B**

19. (3 pts, ⚑) Tangente au graphe : si $f'(a)=m$, équation locale approx. :
    A. $y=f(a)+m(x-a)$ B. $y=m(x-a)$ C. $y=f(a)$ D. $y=mx$
    **Réponse : A**

20. (2 pts) Si $f(x)=x^3$, alors $f'(x)=\dots$
    A. $3x^2$ B. $x^2$ C. $3x$ D. $x^3$
    **Réponse : A**

21. (3 pts, ⚑) Composée simple : $F(x)=\mathrm e^{2x}$, $F'(x)=\dots$
    A. $2\mathrm e^{2x}$ B. $\mathrm e^{2x}$ C. $2x\,\mathrm e^{x}$ D. $0$
    **Réponse : A**

22. (2 pts) Zéros de $f(x)=x^2-1$ et signe sur $\mathbb R$.
    A. zéros $\pm1$, $f\ge0$ hors $(-1,1)$ B. zéros 0, $f\ge0$ partout C. zéros $\pm1$, $f\le0$ hors $(-1,1)$ D. pas de zéro
    **Réponse : A** (lien variations/signes)

---

## C — Suites (6 q, 12 pts)

23. (2 pts) Suite arithmétique : $u_{n+1}=u_n+3,\ u_0=2$. $u_n=\dots$
    A. $2+3n$ B. $2\cdot 3^n$ C. $3+2n$ D. $2-3n$
    **Réponse : A**&#x20;

24. (2 pts) Suite géométrique : $v_{n+1}=1.1\,v_n,\ v_0=100$. $v_n=\dots$
    A. $100\cdot 1.1^n$ B. $100+1.1n$ C. $1.1^{n+100}$ D. $100\cdot n^{1.1}$
    **Réponse : A**&#x20;

25. (2 pts) Somme $1+2+\cdots+n$.
    A. $n(n+1)/2$ B. $n^2$ C. $2n$ D. $(n-1)n/2$
    **Réponse : A**&#x20;

26. (2 pts) Somme $1+q+\cdots+q^n$ ( $q\neq 1$).
    A. $\dfrac{q^{n+1}-1}{q-1}$ B. $\dfrac{1-q^{n+1}}{1-q}$ C. A et B équivalentes D. $\dfrac{nq}{2}$
    **Réponse : C**&#x20;

27. (2 pts) Sens de variation de $u_n=5-2n$.
    A. croissante B. décroissante C. constante D. périodique
    **Réponse : B**

28. (2 pts, ⚑) Interpréter “croissance à taux constant” → modèle le plus adapté :
    A. arithmétique B. géométrique C. quadratique D. aléatoire
    **Réponse : B** (taux fixe → géométrique)&#x20;

---

## D — Géométrie (plan) & vecteurs de base (6 q, 12 pts)

29. (2 pts) Vecteur $\overrightarrow{AB}$ si $A(1,2)$, $B(4,−1)$.
    A. $(3,−3)$ B. $(−3,3)$ C. $(5,1)$ D. $(3,1)$
    **Réponse : A**

30. (2 pts) Produit scalaire plan : $\langle (2,−1),(1,3)\rangle =\dots$
    A. $-1$ B. $2\cdot1+(-1)\cdot 3=-1$ C. $5$ D. $1$
    **Réponse : B**

31. (2 pts) Équation d’une droite de pente 2 passant par $A(1,3)$.
    A. $y=2x+1$ B. $y=2x+3$ C. $y=2(x-1)+3$ D. A et C
    **Réponse : D**

32. (2 pts, ⚑) Vecteurs colinéaires : $(2,−4)$ et $(−1,2)$ ?
    A. Oui B. Non
    **Réponse : A** (mêmes directions — prérequis pour l’espace)&#x20;

33. (2 pts) Distance $AB$ si $A(0,0), B(3,4)$.
    A. 5 B. 7 C. $\sqrt{13}$ D. 4
    **Réponse : A**

34. (2 pts) Angle droit si produit scalaire…
    A. $>0$ B. $=0$ C. $<0$ D. quelconque
    **Réponse : B**

---

## E — Probabilités & Statistiques (4 q, 8 pts)

35. (2 pts) Une urne : 3 rouges, 2 bleues. Tirage d’une boule. $P(\text{rouge})=\dots$
    A. $3/5$ B. $2/5$ C. $1/2$ D. $3/2$
    **Réponse : A**

36. (2 pts) Deux tirages successifs **avec remise** de l’urne précédente. $P(\text{rouge puis bleu})=\dots$
    A. $3/5\cdot2/5$ B. $3/5\cdot2/4$ C. $2/5\cdot3/5$ D. $3/5$
    **Réponse : A**

37. (2 pts) Fréquence relative ≈ probabilité…
    A. toujours égale B. s’en approche quand le nombre d’essais augmente C. indépendante D. impossible
    **Réponse : B**

38. (2 pts) Variable $X$ comptant le nombre de rouges en 3 tirages **avec remise** : loi…
    A. uniforme B. binomiale C. géométrique D. normale
    **Réponse : B**

---

## F — Algorithmique & Logique (2 q, 4 pts)

39. (2 pts) Algorithme :

```
u ← 2
Pour i de 1 à n :
  u ← u + 3
Afficher u
```

Affiche…
A. $2+3n$ B. $2\cdot 3^n$ C. $3+2n$ D. $5n$
**Réponse : A** (arithmétique)&#x20;

40. (2 pts, ⚑) Tableur : si `A1=1`, `A2=2` et `A_{k+1}=A_k+ A_{k-1}`, on calcule…
    A. arithmétique B. géométrique C. Fibonacci-like D. constante
    **Réponse : C** (culture suites)&#x20;

---

### Grille de lecture (seuils, alertes)

* **≥ 70/86** : prêt pour Terminale (confort), consolider 2–3 automatismes.
* **55–69/86** : niveau opérationnel ; remédiation ciblée (variations/exp/suites).
* **< 55/86** : plan de rattrapage prioritaire (dérivation + exp + quadratiques).
* **Alertes Terminale** si :

  * B (Analyse) < **18/30**, ou
  * C (Suites) < **7/12**, ou
  * D (Géométrie) < **6/12** (risque en géométrie de l’espace, vecteurs, plans). &#x20;

---

# Volet 2 — Profil pédagogique (Terminale)

Objectif : dresser un **profil d’apprentissage** pour personnaliser la **feuille de route** (rythme, formats de séances, outils) et aligner avec les exigences de la Terminale (rigueur, autonomie, préparation au supérieur). Les axes ci-dessous reflètent les **compétences visées** et la diversité d’activités préconisée par les programmes (recherche, modélisation, représentations, démonstration, calcul, communication) et l’équilibre des temps (recherche, verbalisation, cours structuré, exercices, rituels). &#x20;

## Sections & items (réponses Likert 1–5 + champs libres)

1. **Ambition & objectifs 2025/26**

   * Objectif visé (mention, filières Parcoursup ciblées).
   * Priorité : spécialités/Grand Oral/contrôle continu.
2. **Motivation & persévérance**

   * Persévérance face à l’erreur ; autonomie entre deux cours.
   * Motivation intrinsèque (intérêt) vs extrinsèque (note/concours).
3. **Rythme & organisation**

   * Moment optimal (matin/soir), préférence “sprint intensif” vs routine régulière.
   * Planification hebdo (temps réel dispo, contraintes).
4. **Style d’apprentissage (VAK + raisonnement)**

   * Préférence dominante (visuel/audio/kinesthésique).
   * Confort avec la **reformulation orale** / **preuve** / **schémas**.
5. **Méthodes efficaces & outils**

   * Ce qui marche le mieux : exos guidés, quiz chronométrés, fiches, vidéos pas à pas, problèmes ouverts, oraux.
   * Outils acceptés : calculatrice, tableur, GeoGebra, Python (TP).
6. **Stress & exam readiness**

   * Gestion du temps en DS, tolérance à la pression, rituels d’échauffement (calcul mental, dérivées flash).
7. **Spécificités & besoins (confidentiel)**

   * Difficultés déclarées (DYS, TDAH, anxiété), aménagements utiles (consignes découpées, police adaptée, pauses, double codage visuel+texte).
8. **Projet d’orientation**

   * Domaines visés (CPGE, école d’ingé, santé, éco-gestion, L1 info…), prérequis perçus.
9. **Préférences de format**

   * Solo/duo/groupe homogène ; présentiel/visio ; durée 60/90/120 min.
10. **Relation à la preuve & à l’abstraction**

    * Aisance à justifier vs appliquer des recettes ; besoin de modèles concrets vs formalisme.

**Interprétation automatique (règles simples)**

* Profil **Autonome-analytique** : score VAK visuel élevé, OK avec preuves → plus de problèmes ouverts & projets (utile pour oraux Tle).
* Profil **Procédural-régulier** : préfère routines + quiz → rituels hebdos, drills dérivées/exp + annales.
* Profil **Oral-synthétique** : aime expliquer → entrainement Grand Oral / démonstrations expliquées.
* Besoins **aménagements** : activer consignes multi-canal, police lisible, pas à pas.

---

## Sortie attendue (pour le rapport et la feuille de route)

* **Forces / faiblesses** par domaine (A–F) + **radar** (% normalisés).
* **Plan 8 semaines** (progressif) :

  * S1–S2 : *Automatismes* (dérivées de base, signes, factorisation).
  * S3–S4 : *Applications* (variations, tangentes, équations).
  * S5–S6 : *Suites & exponentielle* (modélisation, seuils, lecture de graphiques).
  * S7–S8 : *Probas/stat + géométrie pour l’espace* (colinéarité, projections, lecture vectorielle).
* **Recommandations pédagogiques** adaptées au profil (formats, outils, temps hebdo).
* **Offres Nexus** suggérées en fonction des résultats + profil :

  * **Cortex** si radar homogène ≥65% et autonomie.
  * **Studio Flex** si 1–2 lacunes ciblées <50%.
  * **Académies** si plusieurs domaines <50% (booster intensif).
  * **Odyssée** si objectif **mention** / besoin de structuration annuelle & préparation Parcoursup.

---

# Corrigé récapitulatif (Q1→Q40)

1B 2A 3A 4A 5A 6A 7A 8A 9A 10B
11A 12C 13A 14A 15B 16D 17B 18B 19A 20A 21A 22A
23A 24A 25A 26C 27B 28B
29A 30B 31D 32A 33A 34B
35A 36A 37B 38B
39A 40C

---

## Mise en œuvre (notes pour intégration)

* **Radar** : normaliser chaque sous-score en %, p.ex. $\%_{\text{A}} = \frac{\text{pts A}}{\text{max A}}\times100$.
* **Seuils d’alerte** branchent des **cartouches** d’aide (“Capsule dérivées niveau 1”, “Exp base”, “Suites géométriques modèle”).
* **Pondérations** déjà intégrées (total /86). Questions marquées ⚑ pèsent **3**.

---

### Pourquoi ces choix ?

* La Terminale exige **approfondissement** et **préparation au supérieur** ; d’où l’insistance sur **dérivation, exponentielle, suites**, **lecture rigoureuse de variations** et **pré-requis de géométrie** réinvestis ensuite en espace (droites/plans, combinatoire et raisonnement).  &#x20;
* La structure par domaines suit les blocs **Algèbre / Analyse / Géométrie / Probabilités / Algorithmique** du programme de Première, qui sert d’assise à la Terminale.&#x20;

# 🎯 QCM Terminale Maths — JSON (40q) + Python Radar + Adaptateurs PDF

Ce pack contient :

* **`qcm_terminale_maths.json`** : 40 questions (connaissances de Première utiles pour la Terminale) avec poids & réponses.
* **`score_radar.py`** : script Python pour scorer des réponses, calculer les % par domaine, générer un **graphique radar** et exporter un `results.json` prêt pour vos PDFs.
* **`adapter.ts`** : adaptateur TypeScript (Next.js) pour alimenter vos PDFs **Parent/Élève** à partir de `results.json`.

> Domaines : `AlgebreFonctions`, `Analyse`, `Suites`, `GeometriePlan`, `ProbabilitesStat`, `AlgoLogique`

---

## 1) qcm\_terminale\_maths.json

**(copiez tel quel dans un fichier `.json`)**

```json
{
  "meta": {
    "title": "Bilan d'entrée Terminale — Mathématiques",
    "niveau": "Terminale",
    "base": "Programme de Première (pré-requis)",
    "totalQuestions": 40,
    "maxScore": 86,
    "domainsOrder": [
      "AlgebreFonctions",
      "Analyse",
      "Suites",
      "GeometriePlan",
      "ProbabilitesStat",
      "AlgoLogique"
    ]
  },
  "questions": [
    {
      "id": "Q1",
      "domain": "AlgebreFonctions",
      "label": "Résoudre x^2 − 5x + 6 = 0.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["{1,6}", "{2,3}", "{−2,−3}", "∅"],
      "correct": [1],
      "explanation": "Facteur : (x−2)(x−3). Racines 2 et 3."
    },
    {
      "id": "Q2",
      "domain": "AlgebreFonctions",
      "label": "Signe de (x−1)(x+4).",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["+ sur x<−4 et x>1", "+ sur −4<x<1", "− sur x<−4 et x>1", "toujours +"],
      "correct": [0],
      "explanation": "Produit de deux facteurs, changements aux racines −4 et 1."
    },
    {
      "id": "Q3",
      "domain": "AlgebreFonctions",
      "label": "Forme canonique de x^2 + 4x + 1.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["(x+2)^2 − 3", "(x−2)^2 + 3", "(x+2)^2 + 3", "(x−2)^2 − 3"],
      "correct": [0],
      "explanation": "Compléter le carré : x^2+4x+4 − 3 = (x+2)^2 − 3."
    },
    {
      "id": "Q4",
      "domain": "AlgebreFonctions",
      "label": "Somme des racines de x^2 − 7x + 10.",
      "weight": 1,
      "important": false,
      "type": "single",
      "options": ["7", "−7", "10", "−10"],
      "correct": [0],
      "explanation": "Somme = 7 (opposé du coeff. de x)."
    },
    {
      "id": "Q5",
      "domain": "AlgebreFonctions",
      "label": "Factoriser x^2 − 9x.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["x(x−9)", "(x−3)^2", "(x−9)^2", "(x−3)(x−6)"],
      "correct": [0],
      "explanation": "Mettre x en facteur."
    },
    {
      "id": "Q6",
      "domain": "AlgebreFonctions",
      "label": "Résoudre (x−1)^2 ≤ 9.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["[−2,4]", "[−4,2]", "[−8,10]", "[1,10]"],
      "correct": [0],
      "explanation": "|x−1| ≤ 3 ⇒ −2 ≤ x ≤ 4."
    },
    {
      "id": "Q7",
      "domain": "AlgebreFonctions",
      "label": "Zéros de f(x)= −x^2 + 4x.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["0 et 4", "2", "4", "0"],
      "correct": [0],
      "explanation": "Factoriser : −x(x−4)."
    },
    {
      "id": "Q8",
      "domain": "AlgebreFonctions",
      "label": "Minimum de x^2 + 4x + 5 sur R.",
      "weight": 3,
      "important": true,
      "type": "single",
      "options": ["1 en x=−2", "5 en x=0", "0 en x=0", "1 en x=2"],
      "correct": [0],
      "explanation": "(x+2)^2+1 ⇒ min 1 au point x=−2."
    },
    {
      "id": "Q9",
      "domain": "AlgebreFonctions",
      "label": "Si x,y sont racines de t^2 − 5t + 6, alors x+y et xy = ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["5 et 6", "6 et 5", "−5 et 6", "5 et −6"],
      "correct": [0],
      "explanation": "Somme = 5, produit = 6."
    },
    {
      "id": "Q10",
      "domain": "AlgebreFonctions",
      "label": "Domaine de g(x) = (2x+1)/(x−3).",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["R", "R\\{3}", "R\\{−1/2}", "(0,+∞)"],
      "correct": [1],
      "explanation": "Interdit quand x=3."
    },

    {
      "id": "Q11",
      "domain": "Analyse",
      "label": "Le nombre dérivé est la pente de la tangente au graphe en a.",
      "weight": 3,
      "important": true,
      "type": "single",
      "options": ["Vrai", "Faux"],
      "correct": [0]
    },
    {
      "id": "Q12",
      "domain": "Analyse",
      "label": "Si f'(x)>0 sur un intervalle, f y est…",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["décroissante", "constante", "croissante", "indéterminée"],
      "correct": [2]
    },
    {
      "id": "Q13",
      "domain": "Analyse",
      "label": "Dérivée de f(x)=x^2−3x+2.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["2x−3", "x−3", "2x", "2x+3"],
      "correct": [0]
    },
    {
      "id": "Q14",
      "domain": "Analyse",
      "label": "Dérivée de h(x)=√x (x>0).",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["1/(2√x)", "1/√x", "2√x", "0"],
      "correct": [0]
    },
    {
      "id": "Q15",
      "domain": "Analyse",
      "label": "Si f(x)=e^x alors f'(x)= ?",
      "weight": 3,
      "important": true,
      "type": "single",
      "options": ["x e^x", "e^x", "ln x", "1/x"],
      "correct": [1]
    },
    {
      "id": "Q16",
      "domain": "Analyse",
      "label": "Résoudre e^x = 1.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["x=0", "x=1", "x=ln 1", "A et C"],
      "correct": [3]
    },
    {
      "id": "Q17",
      "domain": "Analyse",
      "label": "Si f'(2)=0 et f''(2)>0, alors en x=2 :",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["maximum local", "minimum local", "point d’inflexion", "rien de concluant"],
      "correct": [1]
    },
    {
      "id": "Q18",
      "domain": "Analyse",
      "label": "Dérivée de k(x)=1/x (x≠0).",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["1", "−1/x^2", "1/x^2", "−1/x"],
      "correct": [1]
    },
    {
      "id": "Q19",
      "domain": "Analyse",
      "label": "Tangente : si f'(a)=m, équation locale ≈ ?",
      "weight": 3,
      "important": true,
      "type": "single",
      "options": ["y=f(a)+m(x−a)", "y=m(x−a)", "y=f(a)", "y=mx"],
      "correct": [0]
    },
    {
      "id": "Q20",
      "domain": "Analyse",
      "label": "Si f(x)=x^3, f'(x)= ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["3x^2", "x^2", "3x", "x^3"],
      "correct": [0]
    },
    {
      "id": "Q21",
      "domain": "Analyse",
      "label": "F(x)=e^{2x}, F'(x)= ?",
      "weight": 3,
      "important": true,
      "type": "single",
      "options": ["2e^{2x}", "e^{2x}", "2x e^x", "0"],
      "correct": [0]
    },
    {
      "id": "Q22",
      "domain": "Analyse",
      "label": "Zéros de f(x)=x^2−1 et signe sur R.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["zéros ±1, f≥0 hors (−1,1)", "zéro 0, f≥0 partout", "zéros ±1, f≤0 hors (−1,1)", "pas de zéro"],
      "correct": [0]
    },

    {
      "id": "Q23",
      "domain": "Suites",
      "label": "Suite arithmétique : u_{n+1}=u_n+3, u_0=2. Donner u_n.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["2+3n", "2·3^n", "3+2n", "2−3n"],
      "correct": [0]
    },
    {
      "id": "Q24",
      "domain": "Suites",
      "label": "Suite géométrique : v_{n+1}=1.1 v_n, v_0=100. v_n = ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["100·1.1^n", "100+1.1n", "1.1^{n+100}", "100·n^{1.1}"],
      "correct": [0]
    },
    {
      "id": "Q25",
      "domain": "Suites",
      "label": "Somme 1+2+…+n = ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["n(n+1)/2", "n^2", "2n", "(n−1)n/2"],
      "correct": [0]
    },
    {
      "id": "Q26",
      "domain": "Suites",
      "label": "Somme 1+q+…+q^n (q≠1) = ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["(q^{n+1}−1)/(q−1)", "(1−q^{n+1})/(1−q)", "A et B équivalentes", "nq/2"],
      "correct": [2]
    },
    {
      "id": "Q27",
      "domain": "Suites",
      "label": "Sens de variation de u_n=5−2n.",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["croissante", "décroissante", "constante", "périodique"],
      "correct": [1]
    },
    {
      "id": "Q28",
      "domain": "Suites",
      "label": "Croissance à taux constant → modèle le plus adapté :",
      "weight": 2,
      "important": true,
      "type": "single",
      "options": ["arithmétique", "géométrique", "quadratique", "aléatoire"],
      "correct": [1]
    },

    {
      "id": "Q29",
      "domain": "GeometriePlan",
      "label": "Vecteur AB si A(1,2), B(4,−1).",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["(3,−3)", "(−3,3)", "(5,1)", "(3,1)"],
      "correct": [0]
    },
    {
      "id": "Q30",
      "domain": "GeometriePlan",
      "label": "Produit scalaire ⟨(2,−1),(1,3)⟩ = ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["−1", "2·1 + (−1)·3 = −1", "5", "1"],
      "correct": [1]
    },
    {
      "id": "Q31",
      "domain": "GeometriePlan",
      "label": "Équation d’une droite de pente 2 passant par A(1,3).",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["y=2x+1", "y=2x+3", "y=2(x−1)+3", "A et C"],
      "correct": [3]
    },
    {
      "id": "Q32",
      "domain": "GeometriePlan",
      "label": "Les vecteurs (2,−4) et (−1,2) sont colinéaires ?",
      "weight": 2,
      "important": true,
      "type": "single",
      "options": ["Oui", "Non"],
      "correct": [0]
    },
    {
      "id": "Q33",
      "domain": "GeometriePlan",
      "label": "Distance AB si A(0,0), B(3,4).",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["5", "7", "√13", "4"],
      "correct": [0]
    },
    {
      "id": "Q34",
      "domain": "GeometriePlan",
      "label": "Angle droit si produit scalaire…",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": [">0", "=0", "<0", "quelconque"],
      "correct": [1]
    },

    {
      "id": "Q35",
      "domain": "ProbabilitesStat",
      "label": "Urne: 3 rouges, 2 bleues. P(rouge) ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["3/5", "2/5", "1/2", "3/2"],
      "correct": [0]
    },
    {
      "id": "Q36",
      "domain": "ProbabilitesStat",
      "label": "Deux tirages avec remise: P(rouge puis bleu) ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["(3/5)(2/5)", "(3/5)(2/4)", "(2/5)(3/5)", "3/5"],
      "correct": [0]
    },
    {
      "id": "Q37",
      "domain": "ProbabilitesStat",
      "label": "Fréquence relative ≈ probabilité quand…",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["toujours égale", "le nombre d’essais augmente", "indépendante", "impossible"],
      "correct": [1]
    },
    {
      "id": "Q38",
      "domain": "ProbabilitesStat",
      "label": "X=nb de rouges en 3 tirages avec remise : loi ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["uniforme", "binomiale", "géométrique", "normale"],
      "correct": [1]
    },

    {
      "id": "Q39",
      "domain": "AlgoLogique",
      "label": "Algorithme : u←2; pour i=1..n : u←u+3 ; afficher u ⇒ ?",
      "weight": 2,
      "important": false,
      "type": "single",
      "options": ["2+3n", "2·3^n", "3+2n", "5n"],
      "correct": [0]
    },
    {
      "id": "Q40",
      "domain": "AlgoLogique",
      "label": "Tableur: A1=1, A2=2, A_{k+1}=A_k + A_{k−1} ⇒ suite de type ?",
      "weight": 2,
      "important": true,
      "type": "single",
      "options": ["arithmétique", "géométrique", "Fibonacci-like", "constante"],
      "correct": [2]
    }
  ]
}
```

---

## 2) score\_radar.py

**(script autonome : scoring + export + radar PNG)**

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Usage:
  python score_radar.py --qcm qcm_terminale_maths.json --answers answers.json \
                        --out results.json --png radar.png

- answers.json : { "Q1": 1, "Q2": 0, ... } pour questions single
                 { "Q12": [2] } ou liste d'indices pour multi (non utilisé ici)
"""
import json, math, argparse
import matplotlib.pyplot as plt

DOMAINS_ORDER = [
    "AlgebreFonctions",
    "Analyse",
    "Suites",
    "GeometriePlan",
    "ProbabilitesStat",
    "AlgoLogique",
]

def load_json(path):
    with open(path, 'r', encoding='utf-8') as f:
        return json.load(f)

def is_correct(q, ans):
    correct = set(q['correct'])
    if q['type'] == 'single':
        if isinstance(ans, list):
            return len(ans) == 1 and list(correct)[0] == ans[0]
        try:
            return int(ans) in correct
        except Exception:
            return False
    # multi (non utilisé ici mais prêt)
    if not isinstance(ans, list):
        return False
    return set(ans) == correct

def score(qcm, answers):
    by_domain = {}
    total = 0
    total_max = 0
    for q in qcm['questions']:
        d = q['domain']
        by_domain.setdefault(d, { 'points': 0, 'max': 0 })
        by_domain[d]['max'] += q['weight']
        total_max += q['weight']
        ans = answers.get(q['id'])
        if ans is not None and is_correct(q, ans):
            by_domain[d]['points'] += q['weight']
            total += q['weight']
    # percent
    for d in by_domain:
        pts = by_domain[d]['points']
        mx = by_domain[d]['max'] or 1
        by_domain[d]['percent'] = round(100 * pts / mx)
    return {
        'total': total,
        'totalMax': total_max,
        'byDomain': by_domain,
    }

def radar_plot(results, png_path):
    labels = DOMAINS_ORDER
    values = [ results['byDomain'].get(d, {}).get('percent', 0) for d in labels ]
    # fermer le polygone
    labels += labels[:1]
    values += values[:1]

    angles = [n / float(len(values)-1) * 2 * math.pi for n in range(len(values)-1)]
    angles += angles[:1]

    fig = plt.figure(figsize=(6,6))
    ax = plt.subplot(111, polar=True)
    ax.set_theta_offset(math.pi / 2)
    ax.set_theta_direction(-1)

    plt.xticks(angles[:-1], DOMAINS_ORDER, fontsize=10)
    ax.set_rlabel_position(0)
    yticks = [20,40,60,80,100]
    plt.yticks(yticks, [str(y) for y in yticks], color="grey", size=8)
    plt.ylim(0,100)

    ax.plot(angles, values, linewidth=2, linestyle='solid', color="#1f6feb")
    ax.fill(angles, values, color="#1f6feb", alpha=0.2)
    plt.title("Bilan Terminale — Radar des domaines", y=1.08)

    plt.tight_layout()
    plt.savefig(png_path, dpi=160)
    plt.close()

if __name__ == '__main__':
    ap = argparse.ArgumentParser()
    ap.add_argument('--qcm', required=True)
    ap.add_argument('--answers', required=True)
    ap.add_argument('--out', default='results.json')
    ap.add_argument('--png', default='radar.png')
    args = ap.parse_args()

    qcm = load_json(args.qcm)
    answers = load_json(args.answers)
    results = score(qcm, answers)

    with open(args.out, 'w', encoding='utf-8') as f:
        json.dump(results, f, ensure_ascii=False, indent=2)

    radar_plot(results, args.png)
    print(f"OK — total {results['total']}/{results['totalMax']} • radar: {args.png} • results: {args.out}")
```

**Exemple `answers.json` (réponses toutes correctes pour test radar plein)**

```json
{
  "Q1": 1, "Q2": 0, "Q3": 0, "Q4": 0, "Q5": 0, "Q6": 0, "Q7": 0, "Q8": 0, "Q9": 0, "Q10": 1,
  "Q11": 0, "Q12": 2, "Q13": 0, "Q14": 0, "Q15": 1, "Q16": 3, "Q17": 1, "Q18": 1, "Q19": 0, "Q20": 0,
  "Q21": 0, "Q22": 0,
  "Q23": 0, "Q24": 0, "Q25": 0, "Q26": 2, "Q27": 1, "Q28": 1,
  "Q29": 0, "Q30": 1, "Q31": 3, "Q32": 0, "Q33": 0, "Q34": 1,
  "Q35": 0, "Q36": 0, "Q37": 1, "Q38": 1,
  "Q39": 0, "Q40": 2
}
```

---

## 3) adapter.ts (Next.js) — alimenter vos PDFs Parent/Élève

**`lib/scoring/adapter.ts`**

```ts
export type Results = {
  total: number;
  totalMax: number;
  byDomain: Record<string, { points: number; max: number; percent: number }>;
};

export function toScoresByDomain(results: Results) {
  return Object.keys(results.byDomain).map((k) => ({
    domain: k,
    percent: results.byDomain[k].percent || 0,
  }));
}

export function inferStrengthsWeaknesses(results: Results) {
  const forces: string[] = [];
  const faiblesses: string[] = [];
  for (const [k, v] of Object.entries(results.byDomain)) {
    if ((v.percent || 0) >= 75) forces.push(k);
    else if ((v.percent || 0) < 50) faiblesses.push(k);
  }
  return { forces, faiblesses };
}

export function suggestPlan(results: Results) {
  // Plan 8 semaines simple (peut être affiné par votre moteur IA)
  return [
    "S1–S2 : Automatismes (dérivées de base, signes, factorisation)",
    "S3–S4 : Applications (variations, tangentes, équations)",
    "S5–S6 : Suites & exponentielle (modèles, seuils, graphes)",
    "S7–S8 : Probas/Stat + géométrie (colinéarité, projections)"
  ];
}

export function chooseOffer(results: Results) {
  const percents = Object.values(results.byDomain).map((v) => v.percent || 0);
  const avg = percents.length ? percents.reduce((a, b) => a + b, 0) / percents.length : 0;
  const low = percents.filter((p) => p < 50).length;
  if (avg >= 65 && low === 0) return { primary: "Cortex", alternatives: ["Studio Flex"], reasoning: "Radar homogène et autonomie présumée." };
  if (low <= 2) return { primary: "Studio Flex", alternatives: ["Académies"], reasoning: "1–2 lacunes ciblées à combler rapidement." };
  if (low >= 3) return { primary: "Académies", alternatives: ["Odyssée"], reasoning: "Plusieurs domaines <50% : besoin d’un boost intensif" };
  return { primary: "Odyssée", alternatives: ["Studio Flex"], reasoning: "Objectif mention / besoin de structuration annuelle." };
}

export function buildPdfPayload(results: Results) {
  const scoresByDomain = toScoresByDomain(results);
  const { forces, faiblesses } = inferStrengthsWeaknesses(results);
  const feuilleDeRoute = suggestPlan(results);
  const offers = chooseOffer(results);
  const scoreGlobal = Math.round((results.total / Math.max(1, results.totalMax)) * 100);
  return { scoresByDomain, forces, faiblesses, feuilleDeRoute, offers, scoreGlobal };
}
```

**Exemple d’usage dans votre page Next.js**

```ts
import { buildPdfPayload } from "@/lib/scoring/adapter";
// results = JSON.parse(fs.readFileSync('results.json','utf-8'))
const payload = buildPdfPayload(results);
// Parent
// <BilanPdfParent data={{ eleve: {...}, createdAt: new Date().toISOString(), ...payload, pricing: {...}, horizonMois: 6, chargeHebdoHeures: 2 }} />
// Élève
// <BilanPdfEleve data={{ eleve: {...}, createdAt: new Date().toISOString(), scoresByDomain: payload.scoresByDomain, feuilleDeRoute: payload.feuilleDeRoute, pedago: {...} }} />
```

---

## 4) Checklist d’intégration

* Déposer `qcm_terminale_maths.json` côté front (ou en DB).
* Saisir les réponses → construire `answers.json` (ou directement un objet {Qid: index}).
* Lancer `python score_radar.py` pour générer `results.json` + `radar.png` (utile aussi pour le **dashboard**).
* Côté Next.js, utiliser `adapter.ts` pour alimenter **BilanPdfParent/BilanPdfEleve** (déjà livrés dans votre base) et afficher le radar (ou importer l’image générée si besoin côté serveur).

---

**Livré :** QCM JSON ✅ · Script Python scoring + radar ✅ · Adaptateur TS pour vos PDFs ✅
